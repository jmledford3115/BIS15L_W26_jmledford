library(tidyverse)
library(janitor)
options(scipen=999) #cancels the use of scientific notation for the session
gap <- read_csv("data/gapminder.csv") %>% clean_names()
View(gap)
gap %>%
filter((year>=2000 & year<=2025) & country=="USA")
gap %>%
filter((year>=2000 & year<=2025) & country=="USA") %>%
ggplot(aes(x=year, y=gdp))+
geom_line()
gap %>%
filter((year>=2000 & year<=2025) & country=="USA") %>%
ggplot(aes(x=year, y=gdp))+
geom_line()+
geom_point(shape=5)+
scale_x_continuous(breaks=2000:2025, minor_breaks = NULL)+
theme(axis.text.x = element_text(angle=60, hjust=1))
gap %>%
filter((year>=2000 & year<=2025) & country=="USA") %>%
ggplot(aes(x=year, y=gdp))+
geom_line()+
geom_point(shape=5)+
scale_x_continuous(breaks=2000:2025, minor_breaks = NULL)+
theme(axis.text.x = element_text(angle=60, hjust=1))+
labs(title="GDP per Capita in the USA, 2000-2025",
x="Year",
y="GDP")
gap %>%
filter((year>=2000 & year<=2025) & country=="USA") %>%
ggplot(aes(x=year, y=gdp))+
geom_line(color="red")+
geom_point(shape=5)+
scale_x_continuous(breaks=2000:2025, minor_breaks = NULL)+
theme(axis.text.x = element_text(angle=60, hjust=1))+
labs(title="GDP per Capita in the USA, 2000-2025",
x="Year",
y="GDP")
gap %>%
filter((year>=2000 & year<=2025) & country=="USA") %>%
ggplot(aes(x=year, y=gdp))+
geom_line(color="red")+
geom_point(shape=5)+
scale_x_continuous(breaks=seq(2000, 2025, by=5), minor_breaks = NULL)+
theme(axis.text.x = element_text(angle=60, hjust=1))+
labs(title="GDP per Capita in the USA, 2000-2025",
x="Year",
y="GDP")
gap %>%
filter((year>=2000 & year<=2025) & country=="USA") %>%
ggplot(aes(x=year, y=gdp))+
geom_line(color="red")+
geom_point(shape=5)+
scale_x_continuous(breaks=seq(2000, 2025, by=5))+
theme(axis.text.x = element_text(angle=60, hjust=1))+
labs(title="GDP per Capita in the USA, 2000-2025",
x="Year",
y="GDP")
glimpse(gap)
gdp %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_histogram()
gap %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_histogram()
gap %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_histogram(color="black", fill="turquoise4")
gap %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_histogram(color="black", fill="turquoise4", bins=10)
gap %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_histogram(color="black", fill="turquoise4", bins=40)
gap %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_histogram(color="black", fill="turquoise4", bins=30)
gap %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_histogram(color="black", fill="turquoise4", bins=30)+
labs(title="Distribution of Life Expectancy")
gap %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_density(color="black", fill="turquoise4", alpha=0.7)+
labs(title="Distribution of Life Expectancy")
gap %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_density(color="turquoise4", fill="turquoise4", alpha=0.7)+
labs(title="Distribution of Life Expectancy")
gap %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_density(color="turquoise4", fill="turquoise4", alpha=0.4)+
labs(title="Distribution of Life Expectancy")
gap %>%
ggplot(aes(x=lex))+
geom_histogram(aes(y=after_stat(density)), color="black", fill="turquoise4")+
geom_density(color="red")
gap %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_histogram(aes(y=after_stat(density)), color="black", fill="turquoise4")+
geom_density(color="red")
gap %>%
mutate(year=factor(year))
gap %>%
filter(year %in% c(1930, 1950))
mutate(year=factor(year)) %>%
ggplot(aes(x=lex, color=year, fill=year))+
geom_density(alpha=0.6)
gap %>%
filter(year %in% c(1930, 1950)) %>%
mutate(year=factor(year)) %>%
ggplot(aes(x=lex, color=year, fill=year))+
geom_density(alpha=0.6)
gap %>%
filter(year %in% c(1930, 1950)) %>%
mutate(year=factor(year)) %>%
ggplot(aes(x=lex, color=year, fill=year))+
geom_density(alpha=0.3)
gap %>%
filter(year %in% c(1930, 1950)) %>%
mutate(year=factor(year)) %>%
ggplot(aes(x=lex, color=year, fill=year))+
geom_density(alpha=0.3)+
labs(title="Distribution of Life Expectancy, 1930 and 1950",
x="Life Expectancy (years)",
y=NULL)
gap %>%
filter(year %in% c(1930, 1950)) %>% #pull out the years
mutate(year=factor(year)) %>% #change to a factor
ggplot(aes(x=lex, color=year, fill=year))+
geom_density(alpha=0.3)+
labs(title="Distribution of Life Expectancy, 1930 and 1950",
x="Life Expectancy (years)",
y=NULL,
color="Year",
fill="Year")
gap %>%
filter(year==2000) %>%
mutate(income_category=case_when(gdp<=1100 ~ "low",
gdp>1100 & gdp <=4500 ~ "low_middle",
gdp>4500 & gdp<=13900 ~ "upper_middle",
gdp>13900 ~ "high")) %>%
select(country, gdp, income_category)
gap %>%
filter(year==2000) %>%
mutate(income_category=case_when(gdp<=1100 ~ "low",
gdp>1100 & gdp <=4500 ~ "low_middle",
gdp>4500 & gdp<=13900 ~ "upper_middle",
gdp>13900 ~ "high")) %>%
select(country, gdp, income_category) %>%
mutate(income_category=factor(income_category,
levels=c("low",
"low_middle",
"upper_middle",
"high")))
income_cat2000 <- gap %>%
filter(year==2000) %>%
mutate(income_category=case_when(gdp<=1100 ~ "low",
gdp>1100 & gdp <=4500 ~ "low_middle",
gdp>4500 & gdp<=13900 ~ "upper_middle",
gdp>13900 ~ "high")) %>%
select(country, gdp, income_category) %>%
mutate(income_category=factor(income_category,
levels=c("low",
"low_middle",
"upper_middle",
"high")))
income_cat2000 %>%
group_by(income_category) %>%
summarize(count=n())
income_cat2000 %>%
drop_na(income_category) %>%
ggplot(aes(x=income_category, fill=income_category))+
geom_bar()
income_cat2000 %>%
drop_na(income_category) %>%
ggplot(aes(x=income_category, fill=income_category))+
geom_bar()+
labs(title="Countries in WB Income Categories",
x="Income Category",
y=NULL)+
theme(legend.position="none")
income_cat2000 %>%
group_by(income_category) %>%
summarize(count=n())
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv",
na = c("", "NA", "\\")) %>%
clean_names()
p <- homerange %>%
ggplot(aes(x=taxon, fill=thermoregulation))+
geom_bar(na.rm=T, position="dodge")+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p
p + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))
p + theme_gray()+
theme(axis.text.x = element_text(angle = 60, hjust=1))
q <- homerange %>%
drop_na(log10_mass, log10_preymass) %>%
ggplot(aes(x=log10_mass, y=log10_preymass, color=thermoregulation))+
geom_point()+
geom_smooth(method="lm", se=F, color="red")
q
q+theme_classic()
q <- homerange %>%
drop_na(log10_mass, log10_preymass) %>%
ggplot(aes(x=log10_mass, y=log10_preymass, color=thermoregulation))+
geom_point()+
geom_smooth(method="lm", se=F, color="red")
q
q+theme_classic()
p+theme_linedraw()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_linedraw()+
theme(legend.position = "left",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_linedraw()+
theme(legend.position = "top",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_linedraw()+
theme(legend.position = NULL,
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_linedraw()+
theme(legend.position = "top",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
#install.packages("ggthemes")
library(ggthemes)
ls("package:ggthemes")[grepl("theme_", ls("package:ggthemes"))]
p +
theme_few()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p +
theme_wsj()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q+theme_stata()
?RColorBrewer
display.brewer.pal(9,"Set1") #qualitative palette
display.brewer.pal(8,"Accent") #qualitative palette
p+scale_fill_brewer(palette = "Set1")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+scale_fill_brewer(palette = "Accent")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q+theme_classic()+
scale_colour_brewer(palette="Accent")
colors <- paletteer::palettes_d_names
View(colors)
my_palette <- paletteer_d("ggsci::uniform_startrek")
my_palette
barplot(rep(1,7), axes=FALSE, col=my_palette)
p+scale_fill_manual(values=my_palette)+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
library(scales)
my_cols <- c("#66CDAA",
"#FFCD00FF")
show_col(my_cols)
p+scale_fill_manual(values=my_cols)+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q+theme_classic()+
scale_colour_manual(values=my_cols)
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_wrap(~trophic_guild, ncol=2, labeller=label_both)
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_wrap(~trophic_guild, ncol=2, labeller=label_both)+
theme(axis.text.x=element_text(angle=60, hjust=1),
legend.position="none",
strip.text=element_text(size=12, face="bold"))
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_wrap(~trophic_guild, nrow=2, labeller=label_both)+
theme(axis.text.x=element_text(angle=60, hjust=1),
legend.position="none",
strip.text=element_text(size=12, face="bold"))
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_grid(thermoregulation~., labeller=label_both)
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_grid(.~thermoregulation, labeller=label_both)
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_grid(.~thermoregulation, labeller=label_both)+
theme(axis.text.x=element_text(angle=60, hjust=1),
legend.position="none",
strip.text=element_text(size=12, face="bold"))
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_grid(trophic_guild~thermoregulation, labeller=label_both)+
theme(axis.text.x=element_text(angle=60, hjust=1),
legend.position="none",
strip.text=element_text(size=12, face="bold"))
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_grid(trophic_guild~thermoregulation, labeller=label_both)+
theme(axis.text.x=element_text(angle=60, hjust=1),
legend.position="none",
strip.text=element_text(size=8, face="bold"))
homerange %>%
ggplot(aes(x=log10_mass))+
geom_density(fill="steelblue", alpha=0.3)+
facet_wrap(~thermoregulation, ncol=2)
homerange %>%
ggplot(aes(x=log10_hra))+
geom_density(fill="steelblue", alpha=0.3)+
facet_grid(thermoregulation~locomotion)
